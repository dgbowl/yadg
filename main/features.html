<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Key features of yadg &mdash; yadg 6.1.dev2 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/autodoc_pydantic.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom_theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/yadg_ico.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=8ccc6db5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Citing yadg" href="citing.html" />
    <link rel="prev" title="How to use yadg" href="usage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            yadg
              <img src="_static/yadg.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                6.1.dev2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">yadg user manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">How to install <strong>yadg</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">How to use <strong>yadg</strong></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Key features of <strong>yadg</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#units-and-uncertainties">Units and uncertainties</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#units">Units</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uncertainties">Uncertainties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#timestamping">Timestamping</a></li>
<li class="toctree-l2"><a class="reference internal" href="#locale-support">Locale support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#original-metadata">Original metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dataschema-validation"><cite>DataSchema</cite> validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing <strong>yadg</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">yadg extractors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.example.html"><strong>example</strong>: For yadg testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.agilent.html"><strong>agilent</strong>: For Agilent chromatograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.basic.html"><strong>basic</strong>: For tabulated data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.drycal.html"><strong>drycal</strong>: For MesaLabs Drycal Pro data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.eclab.html"><strong>eclab</strong>: For BioLogic data files</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.empalc.html"><strong>empalc</strong>: For Empa’s LC data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.ezchrom.html"><strong>ezchrom</strong>: For EZChrom chromatograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.fhimcpt.html"><strong>fhimcpt</strong>: For MCPT set-up at FHI</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.fusion.html"><strong>fusion</strong>: For Fusion chromatograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.panalytical.html"><strong>panalytical</strong>: For Panalytical XRD data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.phi.html"><strong>phi</strong>: For Phi XPS data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.picolog.html"><strong>picolog</strong>: For PicoTech PicoLog data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.quadstar.html"><strong>quadstar</strong>: For Quadstar MS data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.tomato.html"><strong>tomato</strong>: For tomato outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.touchstone.html"><strong>touchstone</strong>: For Touchstone VNA files</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">yadg developer manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="devdocs.html">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html"><strong>yadg</strong> version history</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html"><strong>yadg</strong> objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.html">yadg package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">yadg</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Key features of <strong>yadg</strong></li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/features.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="key-features-of-yadg">
<h1>Key features of <strong>yadg</strong><a class="headerlink" href="#key-features-of-yadg" title="Link to this heading"></a></h1>
<section id="units-and-uncertainties">
<h2>Units and uncertainties<a class="headerlink" href="#units-and-uncertainties" title="Link to this heading"></a></h2>
<p>One of the key features of <strong>yadg</strong> is the enforced association of units and uncertainties with measured properties. This means that all experimental quantities are accompanied by an uncertainty estimate, derived either from the <code class="docutils literal notranslate"><span class="pre">string</span> <span class="pre">-&gt;</span> <span class="pre">float</span></code> conversion of the data, or from instrumental resolution, if known.</p>
<section id="units">
<h3>Units<a class="headerlink" href="#units" title="Link to this heading"></a></h3>
<p>In the resulting <code class="docutils literal notranslate"><span class="pre">NetCDF</span></code> files, the unit annotations are stored in <code class="docutils literal notranslate"><span class="pre">.attrs[&quot;units&quot;]</span></code> on each <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2025.6.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></a>, that is within each “column” of each “node” of the <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataTree.html#xarray.DataTree" title="(in xarray v2025.6.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataTree</span></code></a>. If an entry does not contain <code class="docutils literal notranslate"><span class="pre">.attrs[&quot;units&quot;]</span></code>, the quantity is dimensionless.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>A special <code class="xref py py-class docutils literal notranslate"><span class="pre">pint.UnitRegistry</span></code> was exposed in <code class="docutils literal notranslate"><span class="pre">yadg-4.x</span></code> under <code class="xref py py-class docutils literal notranslate"><span class="pre">yadg.dgutils.ureg</span></code>. Use of this <code class="xref py py-class docutils literal notranslate"><span class="pre">pint.UnitRegistry</span></code> is deprecated as of <code class="docutils literal notranslate"><span class="pre">yadg-5.0</span></code>, and it will be removed in <code class="docutils literal notranslate"><span class="pre">yadg-6.0</span></code>.</p>
</div>
</section>
<section id="uncertainties">
<h3>Uncertainties<a class="headerlink" href="#uncertainties" title="Link to this heading"></a></h3>
<p>In many cases it is possible to define more than one uncertainty for each measurement: for example, accuracy, precision, as well as instrument resolution etc. may be available. The convention in <strong>yadg</strong> is that when both a measure of within-measurement uncertainty (resolution) and a cross-measurement error (accuracy) are available, the stored uncertainty corresponds to the instrumental resolution associated with each datapoint, i.e. the resolution. The precision of the measurement (which is normally a higher value than that of the resolution) can be obtained using post-processing, e.g. as a <code class="docutils literal notranslate"><span class="pre">mean()</span></code> and <code class="docutils literal notranslate"><span class="pre">stdev()</span></code> of a series of data.</p>
<p>Unless more information is available, when converting <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code> data to <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, the uncertainty is determined from the last significant digit specified in the <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>. For this, the functionality from within the <a class="reference external" href="https://pythonhosted.org/uncertainties/"><strong>uncertainties</strong></a> package is used.</p>
<p>In the resulting <code class="docutils literal notranslate"><span class="pre">NetCDF</span></code> files, the uncertainties for each <code class="docutils literal notranslate"><span class="pre">f&quot;{entry}&quot;</span></code> are stored as a separate data variable, <code class="docutils literal notranslate"><span class="pre">f&quot;{entry}_std_err&quot;</span></code>. The link between the nominal value and its uncertainty is annotated using <code class="docutils literal notranslate"><span class="pre">.attrs[&quot;ancillary_variables&quot;]</span> <span class="pre">=</span> <span class="pre">f&quot;{entry}_std_err&quot;</span></code>. The reverse link between the uncertainty and its nominal value is annotated similarly, using <code class="docutils literal notranslate"><span class="pre">.attrs[&quot;standard_name&quot;]</span> <span class="pre">=</span> <span class="pre">f&quot;{entry}</span> <span class="pre">standard_error&quot;</span></code>. This follows the <a class="reference external" href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.10/cf-conventions.html">NetCDF CF Metadata Conventions</a>, see <a class="reference external" href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.10/cf-conventions.html#ancillary-data">Section 3.4 on Ancillary Data</a>.</p>
</section>
</section>
<section id="timestamping">
<h2>Timestamping<a class="headerlink" href="#timestamping" title="Link to this heading"></a></h2>
<p>Another key feature in <strong>yadg</strong> is the timestamping of all datapoints. The Unix timestamp is used, as it’s the natural timestamp for Python, and with its resolution in seconds it can be easily converted to minutes or hours. All conversions of date and time objects into Unix timestamps are timezone-aware, with the timezone corresponding to the <code class="docutils literal notranslate"><span class="pre">localtime</span></code> used as a default.</p>
<p>Most of the supported file formats contain a timestamp of some kind. However, several file formats may not include a complete timestamp, by ommiting either the acquisition date or time, or both. That is why <strong>yadg</strong> includes a powerful “external date” interface, see <a class="reference internal" href="apidoc/yadg.dgutils.html#yadg.dgutils.dateutils.complete_timestamps" title="yadg.dgutils.dateutils.complete_timestamps"><code class="xref py py-func docutils literal notranslate"><span class="pre">complete_timestamps()</span></code></a>, which allows you to supply timestamp information externally.</p>
</section>
<section id="locale-support">
<h2>Locale support<a class="headerlink" href="#locale-support" title="Link to this heading"></a></h2>
<p>Support for parsing decimal numbers in localized files is implemented in <strong>yadg</strong> via the <code class="xref py py-mod docutils literal notranslate"><span class="pre">babel</span></code> library, allowing you to specify the locale of the file using standard locale strings, such as <code class="docutils literal notranslate"><span class="pre">en_US</span></code> or <code class="docutils literal notranslate"><span class="pre">de_CH</span></code>. This avoids “hacks” such as replacing decimal separators (<code class="docutils literal notranslate"><span class="pre">,</span></code> vs <code class="docutils literal notranslate"><span class="pre">.</span></code>) and thousands separators when processing localizable files. By default, <strong>yadg</strong> attempts to infer the locale from the <code class="docutils literal notranslate"><span class="pre">LC_NUMERIC</span></code> environment variable; if this is not set in your environment, <code class="docutils literal notranslate"><span class="pre">en_GB</span></code> is used as a fallback.</p>
<p>Note that locale settings currently do not affect processing of date and time strings.</p>
</section>
<section id="original-metadata">
<h2>Original metadata<a class="headerlink" href="#original-metadata" title="Link to this heading"></a></h2>
<p>By default, <strong>yadg</strong> attempts to decode and store all understood metadata present in the extracted files. Currently, this metadata is stored in the <code class="docutils literal notranslate"><span class="pre">original_metadata</span></code> entry within the <code class="docutils literal notranslate"><span class="pre">.attrs</span></code> on the <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataTree.html#xarray.DataTree" title="(in xarray v2025.6.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataTree</span></code></a> nodes, which is serialised into json strings in the <a class="reference internal" href="apidoc/yadg.extractors.html#yadg.extractors.extract" title="yadg.extractors.extract"><code class="xref py py-func docutils literal notranslate"><span class="pre">yadg.extractors.extract()</span></code></a> function.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">original_metadata</span></code> functionality has been introduced in <code class="docutils literal notranslate"><span class="pre">yadg-5.1</span></code> and its implementation might change in future versions.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When merging multiple files into one <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataTree.html#xarray.DataTree" title="(in xarray v2025.6.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataTree</span></code></a>, it may happen that the <code class="docutils literal notranslate"><span class="pre">original_metadata</span></code> entry is not identical in between the processed files. In such cases, executing <strong>yadg</strong> with the <code class="docutils literal notranslate"><span class="pre">--ignore-merge-errors</span></code> option will drop the conflicting metadata entries and proceed with the processing.</p>
</div>
</section>
<section id="dataschema-validation">
<h2><cite>DataSchema</cite> validation<a class="headerlink" href="#dataschema-validation" title="Link to this heading"></a></h2>
<p>Additionally, <strong>yadg</strong> provides <cite>DataSchema</cite> validation and updating functionality, by using the schema models from the <a class="reference external" href="https://dgbowl.github.io/dgbowl-schemas/main/apidoc/dgbowl_schemas.yadg.dataschema.html#module-dgbowl_schemas.yadg.dataschema" title="(in dgbowl-schemas v124rc2.dev1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dgbowl_schemas.yadg.dataschema</span></code></a> package. The schemas are implemented in <a class="reference external" href="https://pydantic-docs.helpmanual.io/"><strong>Pydantic</strong></a>, and are developed in lockstep with <strong>yadg</strong>. This <strong>Pydantic</strong>-based validator class should be used to ensure that the incoming <cite>dataschema</cite> is valid.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="usage.html" class="btn btn-neutral float-left" title="How to use yadg" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="citing.html" class="btn btn-neutral float-right" title="Citing yadg" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021 - 2025, yadg authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other Versions</span>
      v: 6.1.dev2
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions"> 
      <script src="../versions.js"></script>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>