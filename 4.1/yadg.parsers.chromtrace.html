<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>chromtrace: Chromatogram parser &mdash; yadg 4.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/autodoc_pydantic.css" type="text/css" />
    <link rel="shortcut icon" href="_static/yadg_ico.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="qftrace: VNA trace parser" href="yadg.parsers.qftrace.html" />
    <link rel="prev" title="electrochem: Electrochemistry data parser" href="yadg.parsers.electrochem.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> yadg
            <img src="_static/yadg.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                4.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">yadg user manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">How to use <strong>yadg</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Key features of <strong>yadg</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="parsers.html">Parsers available in <strong>yadg</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing <strong>yadg</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">yadg developer manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="devdocs.html">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html"><strong>yadg</strong> version history</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html"><strong>yadg</strong> objects</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="yadg.html"><strong>yadg</strong> autodocs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="yadg.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="yadg.core.html">yadg.core package</a></li>
<li class="toctree-l3"><a class="reference internal" href="yadg.dgutils.html">yadg.dgutils package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="yadg.parsers.html">yadg.parsers package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="yadg.parsers.dummy.html"><strong>dummy</strong>: A dummy parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="yadg.parsers.basiccsv.html"><strong>basiccsv</strong>: Common tabular file parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="yadg.parsers.meascsv.html"><strong>meascsv</strong>: Legacy MCPT log file parser</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#"><strong>chromtrace</strong>: Chromatogram parser</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l5"><a class="reference internal" href="#formats">Formats</a></li>
<li class="toctree-l5"><a class="reference internal" href="#provides">Provides</a></li>
<li class="toctree-l5"><a class="reference internal" href="#metadata">Metadata</a></li>
<li class="toctree-l5"><a class="reference internal" href="#module-yadg.parsers.chromtrace.agilentch">Submodules</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#agilentch-processing-agilent-openlab-binary-signal-trace-files-ch-and-it"><strong>agilentch</strong>: Processing Agilent OpenLab binary signal trace files (CH and IT).</a></li>
<li class="toctree-l6"><a class="reference internal" href="#agilentcsv-processing-agilent-chemstation-chromtab-tabulated-data-files-csv"><strong>agilentcsv</strong>: Processing Agilent Chemstation Chromtab tabulated data files (csv).</a></li>
<li class="toctree-l6"><a class="reference internal" href="#agilentch-processing-agilent-openlab-data-archive-files-dx"><strong>agilentch</strong>: Processing Agilent OpenLab data archive files (DX).</a></li>
<li class="toctree-l6"><a class="reference internal" href="#ezchromasc-processing-ez-chrom-ascii-export-files-dat-asc"><strong>ezchromasc</strong>: Processing EZ-Chrom ASCII export files (dat.asc).</a></li>
<li class="toctree-l6"><a class="reference internal" href="#fusionjson-processing-inficon-fusion-json-data-format-json"><strong>fusionjson</strong>: Processing Inficon Fusion json data format (json).</a></li>
<li class="toctree-l6"><a class="reference internal" href="#fusionzip-processing-inficon-fusion-zipped-data-format-zip"><strong>fusionzip</strong>: Processing Inficon Fusion zipped data format (zip).</a></li>
<li class="toctree-l6"><a class="reference internal" href="#integration-routines-for-chromatogram-integration"><strong>integration</strong>: Routines for chromatogram integration.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="yadg.parsers.electrochem.html"><strong>electrochem</strong>: Electrochemistry data parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="yadg.parsers.flowdata.html"><strong>flowdata</strong>: Flow data parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="yadg.parsers.masstrace.html"><strong>masstrace</strong>: Mass spectrometry parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="yadg.parsers.qftrace.html"><strong>qftrace</strong>: VNA trace parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="yadg.parsers.xpstrace.html"><strong>xpstrace</strong>: X-ray photoelectron spectrum file parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="yadg.parsers.xrdtrace.html"><strong>xrdtrace</strong>: X-ray diffractogram parser</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="yadg.html#module-yadg.main">Submodules</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">yadg</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="parsers.html">Parsers available in <strong>yadg</strong></a> &raquo;</li>
      <li><strong>chromtrace</strong>: Chromatogram parser</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/yadg.parsers.chromtrace.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-yadg.parsers.chromtrace">
<span id="chromtrace-chromatogram-parser"></span><h1><strong>chromtrace</strong>: Chromatogram parser<a class="headerlink" href="#module-yadg.parsers.chromtrace" title="Permalink to this headline"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">chromtrace</span></code> parser handles the reading and processing of all chromatography
files, whether the source is a liquid chromatograph (LC) or a gas chromatograph (GC).
The basic function of the parser is to:</p>
<ol class="arabic simple">
<li><p>read in the raw data and create timestamped <cite>traces</cite></p></li>
<li><p>collect <cite>metadata</cite> such as the method information, sample ID, etc.</p></li>
<li><p>match and integrate peaks in each <cite>trace</cite> using built-in routines</p></li>
<li><p>calculate the outlet composition <code class="docutils literal notranslate"><span class="pre">xout</span></code> if calibration information is provided</p></li>
</ol>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline"></a></h2>
<p>The use of <a class="reference internal" href="#module-yadg.parsers.chromtrace" title="yadg.parsers.chromtrace"><code class="xref py py-mod docutils literal notranslate"><span class="pre">chromtrace</span></code></a> can be requested by supplying <code class="docutils literal notranslate"><span class="pre">chromtrace</span></code>
as an argument to the <code class="docutils literal notranslate"><span class="pre">parser</span></code> keyword of the <cite>dataschema</cite>. The parser supports the
following parameters:</p>
<span class="target" id="yadg-parsers-chromtrace-model"></span><dl class="py class pydantic_model">
<dt class="sig sig-object py" id="dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.Params">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.</span></span><span class="sig-name descname"><span class="pre">Params</span></span><a class="headerlink" href="#dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.Params" title="Permalink to this definition"></a></dt>
<dd><p><details  class="autodoc_pydantic_collapsable_json">
<summary>Show JSON schema</summary><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Params&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;filetype&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Filetype&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ezchrom.asc&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">            </span><span class="s2">&quot;ezchrom.asc&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="s2">&quot;fusion.json&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="s2">&quot;fusion.zip&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="s2">&quot;agilent.ch&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="s2">&quot;agilent.dx&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="s2">&quot;agilent.csv&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">],</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;calfile&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Calfile&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;species&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Species&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;detectors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Detectors&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">   </span><span class="p">},</span><span class="w"></span>
<span class="w">   </span><span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</details></p><dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.Params.filetype">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filetype</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'ezchrom.asc'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fusion.json'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fusion.zip'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'agilent.ch'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'agilent.dx'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'agilent.csv'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ezchrom.asc'</span></em><a class="headerlink" href="#dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.Params.filetype" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.Params.calfile">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calfile</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PydanticUndefined</span></em><a class="headerlink" href="#dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.Params.calfile" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.Params.species">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">species</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PydanticUndefined</span></em><a class="headerlink" href="#dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.Params.species" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.Params.detectors">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detectors</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PydanticUndefined</span></em><a class="headerlink" href="#dgbowl_schemas.yadg.dataschema_4_1.step.ChromTrace.Params.detectors" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">calfile</span></code>, <code class="docutils literal notranslate"><span class="pre">detectors</span></code> and <code class="docutils literal notranslate"><span class="pre">species</span></code> parameters are processed with
<a class="reference internal" href="#yadg.parsers.chromtrace.main.parse_detector_spec" title="yadg.parsers.chromtrace.main.parse_detector_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse_detector_spec()</span></code></a>. See there for a
detailed format description.</p>
</div>
</section>
<section id="formats">
<span id="yadg-parsers-chromtrace-formats"></span><h2>Formats<a class="headerlink" href="#formats" title="Permalink to this headline"></a></h2>
<p>The formats currently supported by the parser are:</p>
<blockquote>
<div><ul class="simple">
<li><p>EZ-Chrom ASCII export (<code class="docutils literal notranslate"><span class="pre">dat.asc</span></code>): <a class="reference internal" href="#module-yadg.parsers.chromtrace.ezchromasc" title="yadg.parsers.chromtrace.ezchromasc"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ezchromasc</span></code></a></p></li>
<li><p>Agilent Chemstation Chromtab (<code class="docutils literal notranslate"><span class="pre">csv</span></code>): <a class="reference internal" href="#module-yadg.parsers.chromtrace.agilentcsv" title="yadg.parsers.chromtrace.agilentcsv"><code class="xref py py-mod docutils literal notranslate"><span class="pre">agilentcsv</span></code></a></p></li>
<li><p>Agilent OpenLab binary signal (<code class="docutils literal notranslate"><span class="pre">ch</span></code>): <a class="reference internal" href="#module-yadg.parsers.chromtrace.agilentch" title="yadg.parsers.chromtrace.agilentch"><code class="xref py py-mod docutils literal notranslate"><span class="pre">agilentch</span></code></a></p></li>
<li><p>Agilent OpenLab data archive (<code class="docutils literal notranslate"><span class="pre">dx</span></code>): <a class="reference internal" href="#module-yadg.parsers.chromtrace.agilentdx" title="yadg.parsers.chromtrace.agilentdx"><code class="xref py py-mod docutils literal notranslate"><span class="pre">agilentdx</span></code></a></p></li>
<li><p>Inficon Fusion JSON format (<code class="docutils literal notranslate"><span class="pre">json</span></code>): <a class="reference internal" href="#module-yadg.parsers.chromtrace.fusionjson" title="yadg.parsers.chromtrace.fusionjson"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fusionjson</span></code></a></p></li>
<li><p>Inficon Fusion zip archive (<code class="docutils literal notranslate"><span class="pre">zip</span></code>) <a class="reference internal" href="#module-yadg.parsers.chromtrace.fusionzip" title="yadg.parsers.chromtrace.fusionzip"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fusionzip</span></code></a></p></li>
</ul>
</div></blockquote>
</section>
<section id="provides">
<span id="yadg-parsers-chromtrace-provides"></span><h2>Provides<a class="headerlink" href="#provides" title="Permalink to this headline"></a></h2>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">chromtrace`</span></code> loads the chromatographic data from the specified
file, determines the uncertainties of the signal (y-axis), and explicitly
populates the points in the time axis (x-axis), when required. This raw data is
stored, for each timestep, using the following format:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">raw</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">traces</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">trace_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w">        </span><span class="c1"># detector name from the raw data file</span><span class="w"></span>
<span class="w">        </span><span class="nt">id</span><span class="p">:</span><span class="w">               </span><span class="kt">!!int</span><span class="w">  </span><span class="c1"># detector id for matching with calibration data</span><span class="w"></span>
<span class="w">        </span><span class="nt">t</span><span class="p">:</span><span class="w">                       </span><span class="c1"># time-axis units are always seconds</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="kt">!!float,</span><span class="w"> </span><span class="nv">...</span><span class="p p-Indicator">],</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="kt">!!float,</span><span class="w"> </span><span class="nv">...</span><span class="p p-Indicator">],</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">        </span><span class="nt">y</span><span class="p">:</span><span class="w">                       </span><span class="c1"># y-axis units are determined from raw file</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="kt">!!float,</span><span class="w"> </span><span class="nv">...</span><span class="p p-Indicator">],</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="kt">!!float,</span><span class="w"> </span><span class="nv">...</span><span class="p p-Indicator">],</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
</pre></div>
</div>
<p>If the raw data file contains information such as peak areas, concentrations, or mol
fractions for detected species those are also included in the timestep:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">raw</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">height</span><span class="p">:</span><span class="w">                     </span><span class="c1"># height of the peak maxima</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">  </span><span class="nt">area</span><span class="p">:</span><span class="w">                       </span><span class="c1"># integrated area of the peak</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">  </span><span class="nt">concentration</span><span class="p">:</span><span class="w">              </span><span class="c1"># concentration</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">  </span><span class="nt">xout</span><span class="p">:</span><span class="w">                       </span><span class="c1"># normalised concentration</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;</span><span class="nv"> </span><span class="s">&quot;</span><span class="p p-Indicator">}</span><span class="w"></span>
</pre></div>
</div>
<p>The data processing performed by <a class="reference internal" href="#module-yadg.parsers.chromtrace" title="yadg.parsers.chromtrace"><code class="xref py py-mod docutils literal notranslate"><span class="pre">chromtrace</span></code></a> is enabled
automatically when calibration information is provided. The resulting data is stored
in the <code class="docutils literal notranslate"><span class="pre">derived</span></code> entry in each <cite>timestep</cite>, and contains the following information:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">derived</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">peaks</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">trace_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w">     </span><span class="c1"># detector name from raw data file</span><span class="w"></span>
<span class="w">        </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="c1"># species name matched from calibration</span><span class="w"></span>
<span class="w">          </span><span class="nt">peak</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">max</span><span class="p">:</span><span class="w">      </span><span class="kt">!!int</span><span class="w">   </span><span class="c1"># index of peak maximum</span><span class="w"></span>
<span class="w">            </span><span class="nt">llim</span><span class="p">:</span><span class="w">     </span><span class="kt">!!int</span><span class="w">   </span><span class="c1"># index of peak left limit</span><span class="w"></span>
<span class="w">            </span><span class="nt">rlim</span><span class="p">:</span><span class="w">     </span><span class="kt">!!int</span><span class="w">   </span><span class="c1"># index of peak right limit</span><span class="w"></span>
<span class="w">          </span><span class="nt">A</span><span class="p">:</span><span class="w">                  </span><span class="c1"># integrated peak area</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">          </span><span class="nt">h</span><span class="p">:</span><span class="w">                  </span><span class="c1"># height of peak maximum</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">          </span><span class="nt">c</span><span class="p">:</span><span class="w">                  </span><span class="c1"># calibrated &quot;concentration&quot; or other quantity</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">    </span><span class="nt">height</span><span class="p">:</span><span class="w">                   </span><span class="c1"># baseline-corrected height of peak maximum</span><span class="w"></span>
<span class="w">      </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">    </span><span class="nt">area</span><span class="p">:</span><span class="w">                     </span><span class="c1"># integrated area of the sample peak</span><span class="w"></span>
<span class="w">      </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">    </span><span class="nt">concentration</span><span class="p">:</span><span class="w">            </span><span class="c1"># concentration of species derived from area</span><span class="w"></span>
<span class="w">      </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">    </span><span class="nt">xout</span><span class="p">:</span><span class="w">                     </span><span class="c1"># normalised mol fractions of species</span><span class="w"></span>
<span class="w">      </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">{</span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> s</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float,</span><span class="nt"> u</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="p p-Indicator">}</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The specification of dictionaries that ought to be passed to <code class="docutils literal notranslate"><span class="pre">species</span></code> and
<code class="docutils literal notranslate"><span class="pre">detectors</span></code> (or stored as json in <code class="docutils literal notranslate"><span class="pre">&quot;calfile&quot;</span></code>) is described in
<a class="reference internal" href="#yadg.parsers.chromtrace.main.parse_detector_spec" title="yadg.parsers.chromtrace.main.parse_detector_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">yadg.parsers.chromtrace.main.parse_detector_spec()</span></code></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The quantity <code class="docutils literal notranslate"><span class="pre">c</span></code>, determined for each integrated peak, may not necessarily
be concentration. It can also be mole fraction, as it is determined from the
peak area in <code class="docutils literal notranslate"><span class="pre">A</span></code> and any provided calibration specification. The calibration
interface allows for units to be supplied.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The mol fractions in <code class="docutils literal notranslate"><span class="pre">xout</span></code> always sum up to unity. If there is more than
one outlet stream, these mol fractions have to be weighted by the flow rate
in a post-processing routine.</p>
</div>
</section>
<section id="metadata">
<h2>Metadata<a class="headerlink" href="#metadata" title="Permalink to this headline"></a></h2>
<p>The metadata collected from the raw file varies greatly by the raw file format.
See the documentation of each file parser for details. In general, the following
metadata entries are stored for each <cite>step</cite>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">params</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">method</span><span class="p">:</span><span class="w">   </span><span class="kt">!!str</span><span class="w"> </span><span class="c1"># path or other specifier of the chromatographic method</span><span class="w"></span>
<span class="w">  </span><span class="nt">sampleid</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"> </span><span class="c1"># sample ID</span><span class="w"></span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"> </span><span class="c1"># username of raw file creator</span><span class="w"></span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w">  </span><span class="kt">!!str</span><span class="w"> </span><span class="c1"># raw file version or program version</span><span class="w"></span>
<span class="w">  </span><span class="nt">valve</span><span class="p">:</span><span class="w">    </span><span class="kt">!!int</span><span class="w"> </span><span class="c1"># multiplexer valve number</span><span class="w"></span>
<span class="w">  </span><span class="nt">datafile</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"> </span><span class="c1"># original data file location</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="module-yadg.parsers.chromtrace.agilentch">
<span id="submodules"></span><h2>Submodules<a class="headerlink" href="#module-yadg.parsers.chromtrace.agilentch" title="Permalink to this headline"></a></h2>
<section id="agilentch-processing-agilent-openlab-binary-signal-trace-files-ch-and-it">
<h3><strong>agilentch</strong>: Processing Agilent OpenLab binary signal trace files (CH and IT).<a class="headerlink" href="#agilentch-processing-agilent-openlab-binary-signal-trace-files-ch-and-it" title="Permalink to this headline"></a></h3>
<p>Currently supports version “179” of the files. Version information is defined in
the <cite>magic_values</cite> (parameters &amp; metadata) and <cite>data_dtypes</cite> (data) dictionaries.</p>
<p>Adapted from <a class="reference external" href="https://bit.ly/3HSelIR">ImportAgilent.m</a> and
<a class="reference external" href="https://github.com/bovee/Aston">aston</a>.</p>
<section id="exposed-metadata">
<h4>Exposed metadata:<a class="headerlink" href="#exposed-metadata" title="Permalink to this headline"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">params</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">method</span><span class="p">:</span><span class="w">   </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">sampleid</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w">  </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">valve</span><span class="p">:</span><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">  </span><span class="nt">datafile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="file-structure-of-ch-files">
<h4>File Structure of <code class="docutils literal notranslate"><span class="pre">.ch</span></code> files<a class="headerlink" href="#file-structure-of-ch-files" title="Permalink to this headline"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x0000</span> <span class="s2">&quot;version magic&quot;</span>
<span class="mh">0x0108</span> <span class="s2">&quot;data offset&quot;</span>
<span class="mh">0x011a</span> <span class="s2">&quot;x-axis minimum (ms)&quot;</span>
<span class="mh">0x011e</span> <span class="s2">&quot;x-axis maximum (ms)&quot;</span>
<span class="mh">0x035a</span> <span class="s2">&quot;sample ID&quot;</span>
<span class="mh">0x0559</span> <span class="s2">&quot;description&quot;</span>
<span class="mh">0x0758</span> <span class="s2">&quot;username&quot;</span>
<span class="mh">0x0957</span> <span class="s2">&quot;timestamp&quot;</span>
<span class="mh">0x09e5</span> <span class="s2">&quot;instrument name&quot;</span>
<span class="mh">0x09bc</span> <span class="s2">&quot;inlet&quot;</span>
<span class="mh">0x0a0e</span> <span class="s2">&quot;method&quot;</span>
<span class="mh">0x104c</span> <span class="s2">&quot;y-axis unit&quot;</span>
<span class="mh">0x1075</span> <span class="s2">&quot;detector name&quot;</span>
<span class="mh">0x1274</span> <span class="s2">&quot;y-axis intercept&quot;</span>
<span class="mh">0x127c</span> <span class="s2">&quot;y-axis slope&quot;</span>
</pre></div>
</div>
<p>Data is stored in a consecutive set of <code class="docutils literal notranslate"><span class="pre">&lt;f8</span></code>, starting at the offset (calculated
as <code class="docutils literal notranslate"><span class="pre">offset</span> <span class="pre">=</span>&#160; <span class="pre">(&quot;data</span> <span class="pre">offset&quot;</span> <span class="pre">-</span> <span class="pre">1)</span> <span class="pre">*</span> <span class="pre">512</span></code>) until the end of the file.</p>
<dl class="py function">
<dt class="sig sig-object py" id="yadg.parsers.chromtrace.agilentch.process">
<span class="sig-prename descclassname"><span class="pre">yadg.parsers.chromtrace.agilentch.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yadg.parsers.chromtrace.agilentch.process" title="Permalink to this definition"></a></dt>
<dd><p>Agilent OpenLAB signal trace parser</p>
<p>One chromatogram per file with a single trace. Binary data format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Filename to process.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Not used as the file is binary.</p></li>
<li><p><strong>timezone</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Timezone information. This should be <code class="docutils literal notranslate"><span class="pre">&quot;localtime&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>([chrom], metadata)</strong> – Standard timesteps &amp; metadata tuple.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple[list, dict]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span class="target" id="module-yadg.parsers.chromtrace.agilentcsv"></span><section id="agilentcsv-processing-agilent-chemstation-chromtab-tabulated-data-files-csv">
<h3><strong>agilentcsv</strong>: Processing Agilent Chemstation Chromtab tabulated data files (csv).<a class="headerlink" href="#agilentcsv-processing-agilent-chemstation-chromtab-tabulated-data-files-csv" title="Permalink to this headline"></a></h3>
<p>This file format may include more than one timestep in each CSV file. It contains
a header section for each timestep, followed by a detector name, and a sequence of
<code class="docutils literal notranslate"><span class="pre">[X,</span> <span class="pre">Y]</span></code> datapoints.</p>
<section id="id1">
<h4>Exposed metadata:<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">params</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">method</span><span class="p">:</span><span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">  </span><span class="nt">sampleid</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">  </span><span class="nt">valve</span><span class="p">:</span><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">  </span><span class="nt">datafile</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
</pre></div>
</div>
<p>Unfortunately, neither <code class="docutils literal notranslate"><span class="pre">method</span></code> nor <code class="docutils literal notranslate"><span class="pre">version</span></code> are exposed, which is a big weakness
of this file format.</p>
<dl class="py function">
<dt class="sig sig-object py" id="yadg.parsers.chromtrace.agilentcsv.process">
<span class="sig-prename descclassname"><span class="pre">yadg.parsers.chromtrace.agilentcsv.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yadg.parsers.chromtrace.agilentcsv.process" title="Permalink to this definition"></a></dt>
<dd><p>Agilent Chemstation CSV (Chromtab) file parser</p>
<p>Each file may contain multiple chromatograms per file with multiple traces. Each
chromatogram starts with a header section, and is followed by each trace, which
includes a header line and x,y-data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Filename to process.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Encoding used to open the file.</p></li>
<li><p><strong>timezone</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Timezone information. This should be <code class="docutils literal notranslate"><span class="pre">&quot;localtime&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>(chroms, metadata)</strong> – Standard timesteps &amp; metadata tuple.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple[list, dict]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span class="target" id="module-yadg.parsers.chromtrace.agilentdx"></span><section id="agilentch-processing-agilent-openlab-data-archive-files-dx">
<h3><strong>agilentch</strong>: Processing Agilent OpenLab data archive files (DX).<a class="headerlink" href="#agilentch-processing-agilent-openlab-data-archive-files-dx" title="Permalink to this headline"></a></h3>
<p>This is a wrapper parser which unzips the provided DX file, and then uses the
<a class="reference internal" href="#module-yadg.parsers.chromtrace.agilentch" title="yadg.parsers.chromtrace.agilentch"><code class="xref py py-mod docutils literal notranslate"><span class="pre">yadg.parsers.chromtrace.agilentch</span></code></a> parser to parse every CH file present in
the archive. The IT files in the archive are currently ignored.</p>
<section id="id2">
<h4>Exposed metadata:<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">params</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">method</span><span class="p">:</span><span class="w">   </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">sampleid</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w">  </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">valve</span><span class="p">:</span><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">  </span><span class="nt">datafile</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
</pre></div>
</div>
<p>In addition to the metadata exposed by the CH parser, the <code class="docutils literal notranslate"><span class="pre">datafile</span></code> entry
is populated with the corresponding name of the CH file. The <code class="docutils literal notranslate"><span class="pre">fn</span></code> entry in each
timestep contains the parent DX file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently the timesteps from multiple CH files (if present) are appended in the
timesteps array without any further sorting.</p>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="yadg.parsers.chromtrace.agilentdx.process">
<span class="sig-prename descclassname"><span class="pre">yadg.parsers.chromtrace.agilentdx.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yadg.parsers.chromtrace.agilentdx.process" title="Permalink to this definition"></a></dt>
<dd><p>Agilent OpenLab DX archive parser.</p>
<p>This is a simple wrapper around the Agilent OpenLab signal trace parser in
<a class="reference internal" href="#module-yadg.parsers.chromtrace.agilentch" title="yadg.parsers.chromtrace.agilentch"><code class="xref py py-mod docutils literal notranslate"><span class="pre">yadg.parsers.chromtrace.agilentch</span></code></a>. This wrapper first un-zips the DX
file into a temporary directory, and then processess all CH files found
within the archive, concatenating timesteps from multiple files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Filename to process.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Not used as the file is binary.</p></li>
<li><p><strong>timezone</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Timezone information. This should be <code class="docutils literal notranslate"><span class="pre">&quot;localtime&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>(chroms, metadata)</strong> – Standard timesteps &amp; metadata tuple.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple[list, dict]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span class="target" id="module-yadg.parsers.chromtrace.ezchromasc"></span><section id="ezchromasc-processing-ez-chrom-ascii-export-files-dat-asc">
<h3><strong>ezchromasc</strong>: Processing EZ-Chrom ASCII export files (dat.asc).<a class="headerlink" href="#ezchromasc-processing-ez-chrom-ascii-export-files-dat-asc" title="Permalink to this headline"></a></h3>
<p>This file format includes one timestep with multiple traces in each ASCII file. It
contains a header section, and a sequence of Y datapoints for each detector. The X
axis is uniform between traces, and its units have to be deduced from the header.</p>
<section id="id3">
<h4>Exposed metadata:<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">params</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">method</span><span class="p">:</span><span class="w">   </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">sampleid</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w">  </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">valve</span><span class="p">:</span><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">  </span><span class="nt">datafile</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="yadg.parsers.chromtrace.ezchromasc.process">
<span class="sig-prename descclassname"><span class="pre">yadg.parsers.chromtrace.ezchromasc.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yadg.parsers.chromtrace.ezchromasc.process" title="Permalink to this definition"></a></dt>
<dd><p>EZ-Chrome ASCII export file parser.</p>
<p>One chromatogram per file with multiple traces. A header section is followed by
y-values for each trace. x-values have to be deduced using number of points,
frequency, and x-multiplier. Method name is available, but detector names are not.
They are assigned their numerical index in the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Filename to process.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Encoding used to open the file.</p></li>
<li><p><strong>timezone</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Timezone information. This should be <code class="docutils literal notranslate"><span class="pre">&quot;localtime&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>([chrom], metadata)</strong> – Standard timesteps &amp; metadata tuple.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple[list, dict]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span class="target" id="module-yadg.parsers.chromtrace.fusionjson"></span><section id="fusionjson-processing-inficon-fusion-json-data-format-json">
<h3><strong>fusionjson</strong>: Processing Inficon Fusion json data format (json).<a class="headerlink" href="#fusionjson-processing-inficon-fusion-json-data-format-json" title="Permalink to this headline"></a></h3>
<p>This is a fairly detailed data format, including the traces, the calibration applied,
and also the integrated peak areas. If the peak areas are present, this is returned
in the list of timesteps as a <code class="docutils literal notranslate"><span class="pre">&quot;peaks&quot;</span></code> entry.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The detectors in the trace data are not necessarily in a consistent order, which
may change between different files. Hence, the keys are sorted.</p>
</div>
<section id="id4">
<h4>Exposed metadata:<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">params</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">method</span><span class="p">:</span><span class="w">   </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">sampleid</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w">  </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">valve</span><span class="p">:</span><span class="w">    </span><span class="kt">!!int</span><span class="w"></span>
<span class="w">  </span><span class="nt">datafile</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="yadg.parsers.chromtrace.fusionjson.process">
<span class="sig-prename descclassname"><span class="pre">yadg.parsers.chromtrace.fusionjson.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yadg.parsers.chromtrace.fusionjson.process" title="Permalink to this definition"></a></dt>
<dd><p>Fusion json format.</p>
<p>One chromatogram per file with multiple traces, and pre-analysed results.
Only a subset of the metadata is retained, including the method name,
detector names, and information about assigned peaks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Filename to process.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Encoding used to open the file.</p></li>
<li><p><strong>timezone</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Timezone information. This should be <code class="docutils literal notranslate"><span class="pre">&quot;localtime&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>([chrom], metadata)</strong> – Standard timesteps &amp; metadata tuple.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple[list, dict]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span class="target" id="module-yadg.parsers.chromtrace.fusionzip"></span><section id="fusionzip-processing-inficon-fusion-zipped-data-format-zip">
<h3><strong>fusionzip</strong>: Processing Inficon Fusion zipped data format (zip).<a class="headerlink" href="#fusionzip-processing-inficon-fusion-zipped-data-format-zip" title="Permalink to this headline"></a></h3>
<p>This is a wrapper parser which unzips the provided zip file, and then uses
the <a class="reference internal" href="#module-yadg.parsers.chromtrace.fusionjson" title="yadg.parsers.chromtrace.fusionjson"><code class="xref py py-mod docutils literal notranslate"><span class="pre">yadg.parsers.chromtrace.fusionjson</span></code></a> parser to parse every data
file present in the archive.</p>
<section id="id5">
<h4>Exposed metadata:<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">params</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">method</span><span class="p">:</span><span class="w">   </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">sampleid</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span><span class="w"></span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w">  </span><span class="kt">!!str</span><span class="w"></span>
<span class="w">  </span><span class="nt">valve</span><span class="p">:</span><span class="w">    </span><span class="kt">!!int</span><span class="w"></span>
<span class="w">  </span><span class="nt">datafile</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"></span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="yadg.parsers.chromtrace.fusionzip.process">
<span class="sig-prename descclassname"><span class="pre">yadg.parsers.chromtrace.fusionzip.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yadg.parsers.chromtrace.fusionzip.process" title="Permalink to this definition"></a></dt>
<dd><p>Fusion zip file format.</p>
<p>The Fusion GC’s can export their json formats as a zip archive of a folder
of jsons. This parser allows for parsing of this zip archive directly,
without the user having to unzip &amp; move the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Filename to process.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Not used as the file is binary.</p></li>
<li><p><strong>timezone</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Timezone information. This should be <code class="docutils literal notranslate"><span class="pre">&quot;localtime&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>(chroms, metadata)</strong> – Standard timesteps &amp; metadata tuple.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple[list, dict]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span class="target" id="module-yadg.parsers.chromtrace.integration"></span><section id="integration-routines-for-chromatogram-integration">
<span id="yadg-parsers-chromtrace-integration"></span><h3><strong>integration</strong>: Routines for chromatogram integration.<a class="headerlink" href="#integration-routines-for-chromatogram-integration" title="Permalink to this headline"></a></h3>
<p>This module contains the <a class="reference internal" href="#yadg.parsers.chromtrace.integration.integrate_trace" title="yadg.parsers.chromtrace.integration.integrate_trace"><code class="xref py py-func docutils literal notranslate"><span class="pre">integrate_trace()</span></code></a>
function, as well as several helper functions to smoothen, peak-pick, determine edges,
and integrate the supplied traces.</p>
<section id="smoothing">
<h4>Smoothing<a class="headerlink" href="#smoothing" title="Permalink to this headline"></a></h4>
<p>Smoothing can be optionally performed on the Y-values of each trace, using a
Savigny-Golay filter. The default smoothing is performed using a cubic fit to a window
length of 7; if the polyorder or the window length are not specified, smoothing is
not used.</p>
</section>
<section id="peak-picking-and-edge-finding">
<h4>Peak-picking and edge-finding<a class="headerlink" href="#peak-picking-and-edge-finding" title="Permalink to this headline"></a></h4>
<p>Peak-picking is performed on the smoothed Y-data to find peaks, as well as on the mirror
image of the data to find bands. Only peaks are further processed. Additionally, the
1st and 2nd derivatives of the Y-data are evaluated, and the zero-points are found using
numpy routines.</p>
<p>The peak edges are taken as either the nearest minima adjacent to the peak maximum,
or as the inflection points at which the gradient falls below a prescribed threshold,
whichever is closest to the peak maximum.</p>
</section>
<section id="baseline-correction">
<h4>Baseline correction<a class="headerlink" href="#baseline-correction" title="Permalink to this headline"></a></h4>
<p>Using the determined peak-edges, the baseline is linearly interpolated in sections of
Y-data which belong to a peak. The interpolation is performed using the raw (not
smoothened) Y-data.</p>
<p>If multiple peaks are adjacent to each other without a gap, the interpolation begins
at the left limit of the leftmost peak and continues uninterrupted to the right limit
of the rightmost peak. The points which belong to the interpolated areas are assumed
to have an uncertainty of zero.</p>
<p>The corrected baseline is then obtained by subtracting the interpolated baseline from
the original raw (not smoothened) data.</p>
</section>
<section id="peak-integration">
<h4>Peak integration<a class="headerlink" href="#peak-integration" title="Permalink to this headline"></a></h4>
<p>Peak integration is performed on the corrected baseline and the matching X-data using
the trapezoidal method as implemented in <code class="docutils literal notranslate"><span class="pre">np.trapz</span></code>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="yadg.parsers.chromtrace.integration.integrate_trace">
<span class="sig-prename descclassname"><span class="pre">yadg.parsers.chromtrace.integration.</span></span><span class="sig-name descname"><span class="pre">integrate_trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chromspec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yadg.parsers.chromtrace.integration.integrate_trace" title="Permalink to this definition"></a></dt>
<dd><p>Integration, calibration, and normalisation handling function. Used to process
all chromatographic data for which a calibration has been provided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traces</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>) – A dictionary of trace data, with keys being the “raw” name of the detector,
and the values containing the <code class="docutils literal notranslate"><span class="pre">&quot;id&quot;</span></code> for specification matching, and a
<code class="docutils literal notranslate"><span class="pre">&quot;data&quot;</span></code> tuple containing the <code class="docutils literal notranslate"><span class="pre">(xs,</span> <span class="pre">ys)</span></code> where each element is a pair of
<code class="xref py py-class docutils literal notranslate"><span class="pre">(np.ndarray)</span></code> with the nominal values and standard deviations.</p></li>
<li><p><strong>chromspec</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>) – Parsed calibration information, with keys being the detector names in the
calibration file, and values containing the <code class="docutils literal notranslate"><span class="pre">&quot;id&quot;</span></code> for detector matching,
<code class="docutils literal notranslate"><span class="pre">&quot;peakdetect&quot;</span></code> dictionary with peak-picking and edge-finding settings,
and <code class="docutils literal notranslate"><span class="pre">&quot;species&quot;</span></code> dictionary with names of species as keys and the left,
right limits and calibration information as values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>derived</strong> – A dictionary containing the derived data, including the peak heights,
areas, concentrations, mol fractions, and a dictionary with the peak
picking information (name, maximum, limits, height, area).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict[dict]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span class="target" id="module-yadg.parsers.chromtrace.main"></span><dl class="py function">
<dt class="sig sig-object py" id="yadg.parsers.chromtrace.main.parse_detector_spec">
<span class="sig-prename descclassname"><span class="pre">yadg.parsers.chromtrace.main.</span></span><span class="sig-name descname"><span class="pre">parse_detector_spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detectors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yadg.parsers.chromtrace.main.parse_detector_spec" title="Permalink to this definition"></a></dt>
<dd><p>Chromatography detector parser.</p>
<p>Combines the specification provided in <code class="docutils literal notranslate"><span class="pre">calfile</span></code> with that provided in
<code class="docutils literal notranslate"><span class="pre">detectors</span></code> and <code class="docutils literal notranslate"><span class="pre">species</span></code>.</p>
<p id="parsers-chromtrace-calfile">The format of <code class="docutils literal notranslate"><span class="pre">calfile</span></code> is as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">detector_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w">    </span><span class="c1"># name of the detector</span><span class="w"></span>
<span class="w">  </span><span class="nt">id</span><span class="p">:</span><span class="w">           </span><span class="kt">!!int</span><span class="w">     </span><span class="c1"># ID of the detector used for matching</span><span class="w"></span>
<span class="w">  </span><span class="nt">prefer</span><span class="p">:</span><span class="w">       </span><span class="kt">!!bool</span><span class="w">    </span><span class="c1"># whether to prefer this detector for xout calc</span><span class="w"></span>
<span class="w">  </span><span class="nt">peakdetect</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">window</span><span class="p">:</span><span class="w">     </span><span class="kt">!!int</span><span class="w">     </span><span class="c1"># Savigny-Golay window_length = 2*window + 1</span><span class="w"></span>
<span class="w">    </span><span class="nt">polyorder</span><span class="p">:</span><span class="w">  </span><span class="kt">!!int</span><span class="w">     </span><span class="c1"># Savigny-Golay polyorder</span><span class="w"></span>
<span class="w">    </span><span class="nt">prominence</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float</span><span class="w">   </span><span class="c1"># peak picking prominence parameter</span><span class="w"></span>
<span class="w">    </span><span class="nt">threshold</span><span class="p">:</span><span class="w">  </span><span class="kt">!!float</span><span class="w">   </span><span class="c1"># peak edge detection threshold</span><span class="w"></span>
<span class="w">  </span><span class="nt">species</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="c1"># name of the analyte</span><span class="w"></span>
<span class="w">      </span><span class="nt">l</span><span class="p">:</span><span class="w">        </span><span class="kt">!!float</span><span class="w">   </span><span class="c1"># peak picking left limit [s]</span><span class="w"></span>
<span class="w">      </span><span class="nt">r</span><span class="p">:</span><span class="w">        </span><span class="kt">!!float</span><span class="w">   </span><span class="c1"># peak picking right limit [s]</span><span class="w"></span>
<span class="w">      </span><span class="nt">calib</span><span class="p">:</span><span class="w">    </span><span class="p p-Indicator">{}</span><span class="w">        </span><span class="c1"># calibration specification</span><span class="w"></span>
<span class="w">      </span><span class="nt">unit</span><span class="p">:</span><span class="w">     </span><span class="kt">!!str</span><span class="w">     </span><span class="c1"># optional unit for the concentration, by default %</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The syntax of the calibration specification is detailed in
<a class="reference internal" href="yadg.dgutils.html#yadg.dgutils.calib.calib_handler" title="yadg.dgutils.calib.calib_handler"><code class="xref py py-func docutils literal notranslate"><span class="pre">yadg.dgutils.calib.calib_handler()</span></code></a>.</p>
</div>
<p id="parsers-chromtrace-detectors">The format of <code class="docutils literal notranslate"><span class="pre">detectors</span></code> is as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">detector_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w">  </span><span class="c1"># name of the detector</span><span class="w"></span>
<span class="w">  </span><span class="nt">id</span><span class="p">:</span><span class="w">           </span><span class="kt">!!int</span><span class="w">   </span><span class="c1"># ID of the detector used for matching</span><span class="w"></span>
<span class="w">  </span><span class="nt">prefer</span><span class="p">:</span><span class="w">       </span><span class="kt">!!bool</span><span class="w">  </span><span class="c1"># whether to prefer this detector for xout calc</span><span class="w"></span>
<span class="w">  </span><span class="nt">peakdetect</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">window</span><span class="p">:</span><span class="w">     </span><span class="kt">!!int</span><span class="w">   </span><span class="c1"># Savigny-Golay window_length = 2*window + 1</span><span class="w"></span>
<span class="w">    </span><span class="nt">polyorder</span><span class="p">:</span><span class="w">  </span><span class="kt">!!int</span><span class="w">   </span><span class="c1"># Savigny-Golay polyorder</span><span class="w"></span>
<span class="w">    </span><span class="nt">prominence</span><span class="p">:</span><span class="w"> </span><span class="kt">!!float</span><span class="w"> </span><span class="c1"># peak picking prominence parameter</span><span class="w"></span>
<span class="w">    </span><span class="nt">threshold</span><span class="p">:</span><span class="w">  </span><span class="kt">!!float</span><span class="w"> </span><span class="c1"># peak edge detection threshold</span><span class="w"></span>
</pre></div>
</div>
<p id="parsers-chromtrace-species">The format of <code class="docutils literal notranslate"><span class="pre">species</span></code> is as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">detector_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w">    </span><span class="c1"># name of the detector</span><span class="w"></span>
<span class="w">  </span><span class="nt">species</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">species_name</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="c1"># name of the analyte</span><span class="w"></span>
<span class="w">      </span><span class="nt">l</span><span class="p">:</span><span class="w">        </span><span class="kt">!!float</span><span class="w">   </span><span class="c1"># peak picking left limit [s]</span><span class="w"></span>
<span class="w">      </span><span class="nt">r</span><span class="p">:</span><span class="w">        </span><span class="kt">!!float</span><span class="w">   </span><span class="c1"># peak picking right limit [s]</span><span class="w"></span>
<span class="w">      </span><span class="nt">calib</span><span class="p">:</span><span class="w">    </span><span class="kt">!!calib</span><span class="w">   </span><span class="c1"># calibration specification</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The syntax of the calibration specification is detailed in
<a class="reference internal" href="yadg.dgutils.html#yadg.dgutils.calib.calib_handler" title="yadg.dgutils.calib.calib_handler"><code class="xref py py-func docutils literal notranslate"><span class="pre">yadg.dgutils.calib.calib_handler()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calfile</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – A json file containing the calibration data in the format prescribed
<a class="reference internal" href="#parsers-chromtrace-calfile"><span class="std std-ref">above</span></a>.</p></li>
<li><p><strong>detectors</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>]) – A dictionary containing the <code class="docutils literal notranslate"><span class="pre">&quot;id&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;peakdetect&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;prefer&quot;</span></code>
keys for each detector, as shown <a class="reference internal" href="#parsers-chromtrace-detectors"><span class="std std-ref">here</span></a>.</p></li>
<li><p><strong>species</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>]) – A dictionary containing the species names as keys and their specification
as dictionaries, as shown <a class="reference internal" href="#parsers-chromtrace-species"><span class="std std-ref">here</span></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>calib</strong> – The combined calibration specification.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="yadg.parsers.chromtrace.main.process">
<span class="sig-prename descclassname"><span class="pre">yadg.parsers.chromtrace.main.</span></span><span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'localtime'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yadg.parsers.chromtrace.main.process" title="Permalink to this definition"></a></dt>
<dd><p>Unified chromatogram parser.</p>
<p>This parser processes GC and LC chromatograms in signal(time) format. When
provided with a calibration file, this tool will integrate the trace, and provide
the peak areas, retention times, and concentrations of the detected species.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The file containing the trace(s) to parse.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Encoding of <code class="docutils literal notranslate"><span class="pre">fn</span></code>, by default “utf-8”.</p></li>
<li><p><strong>timezone</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – A string description of the timezone. Default is “localtime”.</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseModel</span></code>]) – Parameters for <code class="xref py py-class docutils literal notranslate"><span class="pre">ChromTrace</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>(data, metadata, fulldate)</strong> – Tuple containing the timesteps, metadata, and full date tag. All currently
supported file formats return full date.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple[list, dict, bool]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="yadg.parsers.electrochem.html" class="btn btn-neutral float-left" title="electrochem: Electrochemistry data parser" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="yadg.parsers.qftrace.html" class="btn btn-neutral float-right" title="qftrace: VNA trace parser" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021 - 2022, yadg authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other Versions</span>
      v: 4.1
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions"> 
      <script src="../versions.js"></script>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>