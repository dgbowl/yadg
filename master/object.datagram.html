<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>yadg datagram &mdash; yadg master documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/autodoc_pydantic.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom_theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/yadg_ico.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=30d551ce"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            yadg
              <img src="_static/yadg.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                master
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">yadg user manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">How to use <strong>yadg</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Key features of <strong>yadg</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing <strong>yadg</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">yadg extractors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.example.html"><strong>example</strong>: For yadg testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.agilent.html"><strong>agilent</strong>: For Agilent chromatograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.basic.html"><strong>basic</strong>: For tabulated data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.drycal.html"><strong>drycal</strong>: For MesaLabs Drycal Pro data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.eclab.html"><strong>eclab</strong>: For BioLogic data files</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.eclab.common.html">yadg.extractors.eclab.common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.empalc.html"><strong>empalc</strong>: For Empa’s LC data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.ezchrom.html"><strong>ezchrom</strong>: For EZChrom chromatograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.fhimcpt.html"><strong>fhimcpt</strong>: For MCPT set-up at FHI</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.fusion.html"><strong>fusion</strong>: For Fusion chromatograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.panalytical.html"><strong>panalytical</strong>: For Panalytical XRD data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.phi.html"><strong>phi</strong>: For Phi XPS data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.quadstar.html"><strong>quadstar</strong>: For Quadstar MS data</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.extractors.tomato.html"><strong>tomato</strong>: For tomato outputs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">yadg developer manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="devdocs.html">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html"><strong>yadg</strong> version history</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html"><strong>yadg</strong> objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc/yadg.html">yadg package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">yadg</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><strong>yadg</strong> <cite>datagram</cite></li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/object.datagram.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="yadg-datagram">
<h1><strong>yadg</strong> <cite>datagram</cite><a class="headerlink" href="#yadg-datagram" title="Link to this heading"></a></h1>
<p>The <cite>datagram</cite> is a structured and annotated representation of raw data. Here, “raw data” strictly denotes the data present in the parsed files, as they come out of an instrument directly. It may therefore also contain derived data (e.g. data processed using a calibration curve in  chromatography, or a more involved transformation in electrochemistry), while referring to them as “raw data”, since they are present in the parsed files.</p>
<p>The <cite>datagram</cite> is designed to be a FAIR representation of the parsed files, with:</p>
<blockquote>
<div><ul class="simple">
<li><p>uncertainties of measured datapoints;</p></li>
<li><p>units associated with data;</p></li>
<li><p>a consistent data structure for timestamped traces;</p></li>
<li><p>a consistent variable mapping between different filetypes.</p></li>
</ul>
</div></blockquote>
<p>Additionally, the <cite>datagram</cite> is annotated by relevant metadata, including:</p>
<blockquote>
<div><ul class="simple">
<li><p>version information;</p></li>
<li><p>clear provenance of the data;</p></li>
<li><p>uniform data timestamping within and between all <cite>datagrams</cite>.</p></li>
</ul>
</div></blockquote>
<p>As of <code class="docutils literal notranslate"><span class="pre">yadg-5.0</span></code>, the <cite>datagram</cite> is exported as a <a class="reference external" href="https://www.unidata.ucar.edu/software/netcdf/"><code class="docutils literal notranslate"><span class="pre">NetCDF</span></code></a> file. In memory, it is represented by a <a class="reference external" href="https://xarray-datatree.readthedocs.io/en/latest/generated/datatree.DataTree.html#datatree.DataTree" title="(in Datatree v0.0.15.dev1+g0afaa6c.d20240123)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datatree.DataTree</span></code></a>, with individual <cite>steps</cite> as nodes of that <a class="reference external" href="https://xarray-datatree.readthedocs.io/en/latest/generated/datatree.DataTree.html#datatree.DataTree" title="(in Datatree v0.0.15.dev1+g0afaa6c.d20240123)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datatree.DataTree</span></code></a> containing a <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="(in xarray v2024.3.1.dev0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.Dataset</span></code></a>.</p>
<p>The top level <a class="reference external" href="https://xarray-datatree.readthedocs.io/en/latest/generated/datatree.DataTree.html#datatree.DataTree" title="(in Datatree v0.0.15.dev1+g0afaa6c.d20240123)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datatree.DataTree</span></code></a> contains the following metadata stored in its attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p>the version of <strong>yadg</strong> and the execution command used to generate the <cite>datagram</cite>;</p></li>
<li><p>a copy of the <cite>dataschema</cite> used to created the <cite>datagram</cite>;</p></li>
<li><p>the version of the <cite>datagram</cite>; and</p></li>
<li><p>the <cite>datagram</cite> creation timestamp formatted according to ISO8601.</p></li>
</ul>
</div></blockquote>
<p>The contents of the attribute fields for each <cite>step</cite> will vary depending on the parser used to create the corresponding <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="(in xarray v2024.3.1.dev0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.Dataset</span></code></a>. The following conventions are used:</p>
<blockquote>
<div><ul>
<li><p>a <cite>coord</cite> field <code class="docutils literal notranslate"><span class="pre">uts</span></code> contains a Unix timestamp (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>),</p></li>
<li><p>uncertainties for <cite>data_vals</cite> are stored using separate entries with names composed as <code class="docutils literal notranslate"><span class="pre">f&quot;{entry}_std_err&quot;</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p>the parent <code class="docutils literal notranslate"><span class="pre">f&quot;{entry}&quot;</span></code> is pointing to its uncertainty by annotation using the <code class="docutils literal notranslate"><span class="pre">ancillary_variables</span></code> field,</p></li>
<li><p>the uncertainty links back to the <code class="docutils literal notranslate"><span class="pre">f&quot;{entry}&quot;</span></code> by annotation using the <code class="docutils literal notranslate"><span class="pre">standard_name</span></code> field.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>the use of spaces (and other whitespace characters) in the names of entries is to be avoided,</p></li>
<li><p>the use of forward slashes (<code class="docutils literal notranslate"><span class="pre">/</span></code>) in the names of entries is not allowed.</p></li>
</ul>
</div></blockquote>
<p>This follows the <a class="reference external" href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.10/cf-conventions.html">NetCDF CF Metadata Conventions</a>, see <a class="reference external" href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.10/cf-conventions.html#ancillary-data">Section 3.4 on Ancillary Data</a>.</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021 - 2024, yadg authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other Versions</span>
      v: master
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions"> 
      <script src="../versions.js"></script>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>